{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\CRM\\\\frontend\\\\src\\\\components\\\\Reportes.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Tabs, Tab, Card, Button, Table, Spinner, Alert, Row, Col, Form } from 'react-bootstrap';\nimport { saveAs } from 'file-saver';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst categorias = [{\n  key: 'laboratorio_central',\n  label: 'Laboratorio Central'\n}, {\n  key: 'campo',\n  label: 'Inventario de Campo'\n}, {\n  key: 'consumible_lab_central',\n  label: 'Consumible en Laboratorio Central'\n}, {\n  key: 'consumible_seguridad',\n  label: 'Consumible por Equipo de Seguridad'\n}, {\n  key: 'laboratorio_campo',\n  label: 'Laboratorio de Campo'\n}];\nfunction Reportes() {\n  _s();\n  const [equipos, setEquipos] = useState([]);\n  const [documentos, setDocumentos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [mensaje, setMensaje] = useState('');\n  useEffect(() => {\n    async function fetchEquipos() {\n      try {\n        const res = await fetch('/api/equipos');\n        const data = await res.json();\n        setEquipos(data);\n      } catch (error) {\n        setMensaje('Error al cargar los equipos');\n      }\n    }\n    async function fetchDocumentos() {\n      try {\n        const res = await fetch('/api/documentos/all');\n        const data = await res.json();\n        setDocumentos(data);\n      } catch (error) {\n        setMensaje('Error al cargar los documentos');\n      }\n    }\n    fetchEquipos();\n    fetchDocumentos();\n  }, []);\n\n  // Exportar inventario por categoría\n  const exportarExcelCategoria = async categoria => {\n    setLoading(true);\n    const params = new URLSearchParams({\n      categoria\n    }).toString();\n    const response = await fetch(`/api/reportes/inventario/excel/filtrado?${params}`);\n    const blob = await response.blob();\n    saveAs(blob, `inventario_${categoria}.xlsx`);\n    setLoading(false);\n  };\n  const exportarPDFCategoria = async categoria => {\n    setLoading(true);\n    const params = new URLSearchParams({\n      categoria\n    }).toString();\n    const response = await fetch(`/api/reportes/inventario/pdf/filtrado?${params}`);\n    const blob = await response.blob();\n    saveAs(blob, `inventario_${categoria}.pdf`);\n    setLoading(false);\n  };\n\n  // Exportar todos los documentos\n  const exportarDocumentosExcel = async () => {\n    setLoading(true);\n    const response = await fetch(`/api/reportes/documentos/excel`);\n    const blob = await response.blob();\n    saveAs(blob, 'documentos.xlsx');\n    setLoading(false);\n  };\n  const exportarDocumentosPDF = async () => {\n    setLoading(true);\n    const response = await fetch(`/api/reportes/documentos/pdf`);\n    const blob = await response.blob();\n    saveAs(blob, 'documentos.pdf');\n    setLoading(false);\n  };\n\n  // Descargar todas las fotos\n  const exportarFotosZIP = async () => {\n    setLoading(true);\n    const response = await fetch(`/api/reportes/fotos/zip`);\n    const blob = await response.blob();\n    saveAs(blob, 'fotos.zip');\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"Reportes y Descargas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), mensaje && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: mensaje\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultActiveKey: \"inventario\",\n      className: \"mb-3\",\n      fill: true,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"inventario\",\n        title: \"Inventario por Categor\\xEDas\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: categorias.map(cat => {\n            const equiposCat = equipos.filter(eq => eq.categoria === cat.key);\n            return /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                  as: \"h5\",\n                  children: cat.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2 d-flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-success\",\n                      onClick: () => exportarExcelCategoria(cat.key),\n                      disabled: loading,\n                      children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                        animation: \"border\",\n                        size: \"sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 38\n                      }, this) : 'Descargar Excel'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-danger\",\n                      onClick: () => exportarPDFCategoria(cat.key),\n                      disabled: loading,\n                      children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                        animation: \"border\",\n                        size: \"sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 104,\n                        columnNumber: 38\n                      }, this) : 'Descargar PDF'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Table, {\n                    striped: true,\n                    bordered: true,\n                    hover: true,\n                    size: \"sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Categor\\xEDa\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 110,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Subcategor\\xEDa\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Existencia\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Equipo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Descripci\\xF3n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 114,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Marca\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Modelo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: equiposCat.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          colSpan: 7,\n                          className: \"text-center text-muted\",\n                          children: \"No hay equipos registrados.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 121,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 29\n                      }, this) : equiposCat.map(eq => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.categoria\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.subcategoria\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 126,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.existencia\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 127,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.nombre\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 128,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.descripcion\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 129,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.marca\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: eq.modelo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 131,\n                          columnNumber: 33\n                        }, this)]\n                      }, eq.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)\n            }, cat.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"documentos\",\n        title: \"Reportes de Documentos\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            as: \"h5\",\n            children: \"Todos los Documentos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-success\",\n                onClick: exportarDocumentosExcel,\n                disabled: loading,\n                children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  animation: \"border\",\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 30\n                }, this) : 'Descargar Excel'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-danger\",\n                onClick: exportarDocumentosPDF,\n                disabled: loading,\n                children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  animation: \"border\",\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 30\n                }, this) : 'Descargar PDF'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              striped: true,\n              bordered: true,\n              hover: true,\n              size: \"sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Equipo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tipo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Archivo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Fecha de subida\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Fecha de vencimiento\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: documentos.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: 6,\n                    className: \"text-center text-muted\",\n                    children: \"No hay documentos registrados.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this) : documentos.map(doc => {\n                  var _doc$url_archivo;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: doc.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: doc.equipo_nombre || doc.equipo_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: doc.tipo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: (_doc$url_archivo = doc.url_archivo) === null || _doc$url_archivo === void 0 ? void 0 : _doc$url_archivo.split('/').pop()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: doc.fecha_subida ? doc.fecha_subida.substring(0, 10) : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: doc.fecha_vencimiento ? doc.fecha_vencimiento.substring(0, 10) : 'N/A'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 25\n                    }, this)]\n                  }, doc.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"fotos\",\n        title: \"Galer\\xEDa de Fotos\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            as: \"h5\",\n            children: \"Fotos Subidas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 d-flex gap-2\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                onClick: exportarFotosZIP,\n                disabled: loading,\n                children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  animation: \"border\",\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 30\n                }, this) : 'Descargar Todas (ZIP)'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: documentos.filter(doc => doc.tipo === 'foto').length === 0 ? /*#__PURE__*/_jsxDEV(Col, {\n                className: \"text-muted\",\n                children: \"No hay fotos subidas.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this) : documentos.filter(doc => doc.tipo === 'foto').map(doc => /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                    variant: \"top\",\n                    src: `/${doc.url_archivo}`,\n                    style: {\n                      maxHeight: 180,\n                      objectFit: 'cover'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-secondary\",\n                      size: \"sm\",\n                      href: `/${doc.url_archivo}`,\n                      download: true,\n                      children: \"Descargar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 23\n                }, this)\n              }, doc.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(Reportes, \"k5++MmqA2MGCR1D2+gS93g8e1Sk=\");\n_c = Reportes;\nexport default Reportes;\nvar _c;\n$RefreshReg$(_c, \"Reportes\");","map":{"version":3,"names":["React","useState","useEffect","Tabs","Tab","Card","Button","Table","Spinner","Alert","Row","Col","Form","saveAs","jsxDEV","_jsxDEV","categorias","key","label","Reportes","_s","equipos","setEquipos","documentos","setDocumentos","loading","setLoading","mensaje","setMensaje","fetchEquipos","res","fetch","data","json","error","fetchDocumentos","exportarExcelCategoria","categoria","params","URLSearchParams","toString","response","blob","exportarPDFCategoria","exportarDocumentosExcel","exportarDocumentosPDF","exportarFotosZIP","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","defaultActiveKey","fill","eventKey","title","map","cat","equiposCat","filter","eq","md","Header","as","Body","onClick","disabled","animation","size","striped","bordered","hover","length","colSpan","subcategoria","existencia","nombre","descripcion","marca","modelo","id","doc","_doc$url_archivo","equipo_nombre","equipo_id","tipo","url_archivo","split","pop","fecha_subida","substring","fecha_vencimiento","Img","src","style","maxHeight","objectFit","href","download","_c","$RefreshReg$"],"sources":["C:/Users/user/Documents/CRM/frontend/src/components/Reportes.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Tabs, Tab, Card, Button, Table, Spinner, Alert, Row, Col, Form } from 'react-bootstrap';\r\nimport { saveAs } from 'file-saver';\r\n\r\nconst categorias = [\r\n  { key: 'laboratorio_central', label: 'Laboratorio Central' },\r\n  { key: 'campo', label: 'Inventario de Campo' },\r\n  { key: 'consumible_lab_central', label: 'Consumible en Laboratorio Central' },\r\n  { key: 'consumible_seguridad', label: 'Consumible por Equipo de Seguridad' },\r\n  { key: 'laboratorio_campo', label: 'Laboratorio de Campo' }\r\n];\r\n\r\nfunction Reportes() {\r\n  const [equipos, setEquipos] = useState([]);\r\n  const [documentos, setDocumentos] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mensaje, setMensaje] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function fetchEquipos() {\r\n      try {\r\n        const res = await fetch('/api/equipos');\r\n        const data = await res.json();\r\n        setEquipos(data);\r\n      } catch (error) {\r\n        setMensaje('Error al cargar los equipos');\r\n      }\r\n    }\r\n    async function fetchDocumentos() {\r\n      try {\r\n        const res = await fetch('/api/documentos/all');\r\n        const data = await res.json();\r\n        setDocumentos(data);\r\n      } catch (error) {\r\n        setMensaje('Error al cargar los documentos');\r\n      }\r\n    }\r\n    fetchEquipos();\r\n    fetchDocumentos();\r\n  }, []);\r\n\r\n  // Exportar inventario por categoría\r\n  const exportarExcelCategoria = async (categoria) => {\r\n    setLoading(true);\r\n    const params = new URLSearchParams({ categoria }).toString();\r\n    const response = await fetch(`/api/reportes/inventario/excel/filtrado?${params}`);\r\n    const blob = await response.blob();\r\n    saveAs(blob, `inventario_${categoria}.xlsx`);\r\n    setLoading(false);\r\n  };\r\n  const exportarPDFCategoria = async (categoria) => {\r\n    setLoading(true);\r\n    const params = new URLSearchParams({ categoria }).toString();\r\n    const response = await fetch(`/api/reportes/inventario/pdf/filtrado?${params}`);\r\n    const blob = await response.blob();\r\n    saveAs(blob, `inventario_${categoria}.pdf`);\r\n    setLoading(false);\r\n  };\r\n\r\n  // Exportar todos los documentos\r\n  const exportarDocumentosExcel = async () => {\r\n    setLoading(true);\r\n    const response = await fetch(`/api/reportes/documentos/excel`);\r\n    const blob = await response.blob();\r\n    saveAs(blob, 'documentos.xlsx');\r\n    setLoading(false);\r\n  };\r\n  const exportarDocumentosPDF = async () => {\r\n    setLoading(true);\r\n    const response = await fetch(`/api/reportes/documentos/pdf`);\r\n    const blob = await response.blob();\r\n    saveAs(blob, 'documentos.pdf');\r\n    setLoading(false);\r\n  };\r\n\r\n  // Descargar todas las fotos\r\n  const exportarFotosZIP = async () => {\r\n    setLoading(true);\r\n    const response = await fetch(`/api/reportes/fotos/zip`);\r\n    const blob = await response.blob();\r\n    saveAs(blob, 'fotos.zip');\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2 className=\"mb-4\">Reportes y Descargas</h2>\r\n      {mensaje && <Alert variant=\"danger\">{mensaje}</Alert>}\r\n      <Tabs defaultActiveKey=\"inventario\" className=\"mb-3\" fill>\r\n        <Tab eventKey=\"inventario\" title=\"Inventario por Categorías\">\r\n          <Row>\r\n            {categorias.map(cat => {\r\n              const equiposCat = equipos.filter(eq => eq.categoria === cat.key);\r\n              return (\r\n                <Col md={6} key={cat.key} className=\"mb-4\">\r\n                  <Card>\r\n                    <Card.Header as=\"h5\">{cat.label}</Card.Header>\r\n                    <Card.Body>\r\n                      <div className=\"mb-2 d-flex gap-2\">\r\n                        <Button variant=\"outline-success\" onClick={() => exportarExcelCategoria(cat.key)} disabled={loading}>\r\n                          {loading ? <Spinner animation=\"border\" size=\"sm\" /> : 'Descargar Excel'}\r\n                        </Button>\r\n                        <Button variant=\"outline-danger\" onClick={() => exportarPDFCategoria(cat.key)} disabled={loading}>\r\n                          {loading ? <Spinner animation=\"border\" size=\"sm\" /> : 'Descargar PDF'}\r\n                        </Button>\r\n                      </div>\r\n                      <Table striped bordered hover size=\"sm\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Categoría</th>\r\n                            <th>Subcategoría</th>\r\n                            <th>Existencia</th>\r\n                            <th>Equipo</th>\r\n                            <th>Descripción</th>\r\n                            <th>Marca</th>\r\n                            <th>Modelo</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {equiposCat.length === 0 ? (\r\n                            <tr><td colSpan={7} className=\"text-center text-muted\">No hay equipos registrados.</td></tr>\r\n                          ) : (\r\n                            equiposCat.map(eq => (\r\n                              <tr key={eq.id}>\r\n                                <td>{eq.categoria}</td>\r\n                                <td>{eq.subcategoria}</td>\r\n                                <td>{eq.existencia}</td>\r\n                                <td>{eq.nombre}</td>\r\n                                <td>{eq.descripcion}</td>\r\n                                <td>{eq.marca}</td>\r\n                                <td>{eq.modelo}</td>\r\n                              </tr>\r\n                            ))\r\n                          )}\r\n                        </tbody>\r\n                      </Table>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              );\r\n            })}\r\n          </Row>\r\n        </Tab>\r\n        <Tab eventKey=\"documentos\" title=\"Reportes de Documentos\">\r\n          <Card>\r\n            <Card.Header as=\"h5\">Todos los Documentos</Card.Header>\r\n            <Card.Body>\r\n              <div className=\"mb-2 d-flex gap-2\">\r\n                <Button variant=\"outline-success\" onClick={exportarDocumentosExcel} disabled={loading}>\r\n                  {loading ? <Spinner animation=\"border\" size=\"sm\" /> : 'Descargar Excel'}\r\n                </Button>\r\n                <Button variant=\"outline-danger\" onClick={exportarDocumentosPDF} disabled={loading}>\r\n                  {loading ? <Spinner animation=\"border\" size=\"sm\" /> : 'Descargar PDF'}\r\n                </Button>\r\n              </div>\r\n              <Table striped bordered hover size=\"sm\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>Equipo</th>\r\n                    <th>Tipo</th>\r\n                    <th>Archivo</th>\r\n                    <th>Fecha de subida</th>\r\n                    <th>Fecha de vencimiento</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {documentos.length === 0 ? (\r\n                    <tr><td colSpan={6} className=\"text-center text-muted\">No hay documentos registrados.</td></tr>\r\n                  ) : (\r\n                    documentos.map(doc => (\r\n                      <tr key={doc.id}>\r\n                        <td>{doc.id}</td>\r\n                        <td>{doc.equipo_nombre || doc.equipo_id}</td>\r\n                        <td>{doc.tipo}</td>\r\n                        <td>{doc.url_archivo?.split('/').pop()}</td>\r\n                        <td>{doc.fecha_subida ? doc.fecha_subida.substring(0, 10) : ''}</td>\r\n                        <td>{doc.fecha_vencimiento ? doc.fecha_vencimiento.substring(0, 10) : 'N/A'}</td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        <Tab eventKey=\"fotos\" title=\"Galería de Fotos\">\r\n          <Card>\r\n            <Card.Header as=\"h5\">Fotos Subidas</Card.Header>\r\n            <Card.Body>\r\n              <div className=\"mb-2 d-flex gap-2\">\r\n                <Button variant=\"outline-primary\" onClick={exportarFotosZIP} disabled={loading}>\r\n                  {loading ? <Spinner animation=\"border\" size=\"sm\" /> : 'Descargar Todas (ZIP)'}\r\n                </Button>\r\n              </div>\r\n              <Row>\r\n                {documentos.filter(doc => doc.tipo === 'foto').length === 0 ? (\r\n                  <Col className=\"text-muted\">No hay fotos subidas.</Col>\r\n                ) : (\r\n                  documentos.filter(doc => doc.tipo === 'foto').map(doc => (\r\n                    <Col md={3} key={doc.id} className=\"mb-3\">\r\n                      <Card>\r\n                        <Card.Img variant=\"top\" src={`/${doc.url_archivo}`} style={{ maxHeight: 180, objectFit: 'cover' }} />\r\n                        <Card.Body>\r\n                          <Button variant=\"outline-secondary\" size=\"sm\" href={`/${doc.url_archivo}`} download>\r\n                            Descargar\r\n                          </Button>\r\n                        </Card.Body>\r\n                      </Card>\r\n                    </Col>\r\n                  ))\r\n                )}\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reportes; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}